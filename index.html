<!DOCTYPE html>
<html>
<head>
	<title>Date Check</title>
	<style>
		.container {
			text-align: center;
		}

		.box {
			width: 100px;
			height: 100px;
			margin: 20px;
			display: inline-block;
		}
		.blue {
			background-color: blue;
		}
		.red {
			background-color: red;
		}
		.green {
			background-color: green;
		}
		.grey {
			background-color: grey;
		}
	</style>
</head>
<body>
	<div class="container">
		<h2>Bin Collection</h2>
		<div class="box" id="box1"></div>
		<div class="box" id="box2"></div>
		<p id="countdown"></p>
	</div>

	<script>
		function reloadPage() {
			location.reload();
		}

		// Refresh the page every hour
		setInterval(reloadPage, 60 * 60 * 1000);

		// Define the list of dates and their corresponding colors
		const dates = [
			{date: new Date('February 23, 2023'), colors: ['blue', 'red']},
			{date: new Date('March 2, 2023'), colors: ['green']},
			{date: new Date('March 9, 2023'), colors: ['red', 'grey']},
		];

		// Get the current date
		const now = new Date();

		// Find the next date in the list
		let nextDate = null;
		for (let i = 0; i < dates.length; i++) {
			if (dates[i].date > now) {
				nextDate = dates[i];
				break;
			}
		}

		// Display the colors of the next date in the boxes
		if (nextDate) {
			const colors = nextDate.colors;
			for (let i = 0; i < colors.length; i++) {
				document.getElementById(`box${i+1}`).classList.add(colors[i]);
			}

			// Display a countdown until the next date
			const timeDiff = nextDate.date.getTime() - now.getTime();
			const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
			const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
			const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
			const options = {weekday: 'long', month: 'long', day: 'numeric', year: 'numeric'};
			const dayText = days <= 1 ? 'day' : 'days';
			document.getElementById("countdown").innerHTML = `Countdown: ${days} ${dayText}, ${hours} hours, ${minutes} minutes, ${seconds} seconds until the ${nextDate.date.toLocaleDateString('en-GB', options)} bin`;
		}
	</script>
</body>
</html>
